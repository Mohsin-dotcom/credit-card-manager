{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nconst useForm = (callback, validator, validationErrors, initialFormValues) => {\n  _s();\n  const [values, setValues] = useState(initialFormValues);\n  const [errors, setErrors] = useState(validationErrors);\n  const getInputEntry = element => [element.name, element instanceof HTMLInputElement && element.type === \"checkbox\" ? element.checked : element.value];\n  const handleValueChange = (name, value) => {\n    const errorHolder = {\n      ...errors\n    };\n    if (errorHolder[name]) {\n      delete errorHolder[name];\n      setErrors(errorHolder);\n    }\n  };\n  const onChange = event => {\n    const {\n      target\n    } = event;\n    const [name, value] = getInputEntry(target);\n    setValues({\n      ...values,\n      [name]: value\n    });\n    handleValueChange(name, value);\n  };\n  const onBlur = event => {\n    const {\n      target\n    } = event;\n    const [name, value] = getInputEntry(target);\n    if (values && value && value !== values[name]) {\n      handleValueChange(name, value);\n    }\n  };\n  const onSubmit = event => {\n    event.preventDefault();\n    const err = validator(values);\n    if (Object.keys(err).length === 0) {\n      callback();\n    } else {\n      setErrors(err);\n    }\n  };\n  return {\n    values,\n    errors,\n    onChange,\n    onBlur,\n    onSubmit\n  };\n};\n_s(useForm, \"WUe0bASMYFEkISDjHX49e4Ff+ng=\");\nexport default useForm;","map":{"version":3,"names":["useState","useForm","callback","validator","validationErrors","initialFormValues","values","setValues","errors","setErrors","getInputEntry","element","name","HTMLInputElement","type","checked","value","handleValueChange","errorHolder","onChange","event","target","onBlur","onSubmit","preventDefault","err","Object","keys","length"],"sources":["/Users/Mohsin/Documents/credit-card-manager/src/components/Forms/hooks/useForm.tsx"],"sourcesContent":["import { useState, ChangeEvent, FocusEvent, FormEvent } from \"react\";\n\nconst useForm = <T extends Record<string, any>>(\n  callback: Function,\n  validator: (args: T) => T,\n  validationErrors: T,\n  initialFormValues: T\n) => {\n  const [values, setValues] = useState<T>(initialFormValues);\n  const [errors, setErrors] = useState<T>(validationErrors);\n\n  const getInputEntry =(element: HTMLInputElement| HTMLSelectElement): [string,string| boolean] => ([\n    element.name,\n    element instanceof HTMLInputElement && element.type === \"checkbox\"\n      ? element.checked\n      : element.value,\n  ]);\n\n  const handleValueChange = (name: string, value: string | boolean) => {\n    const errorHolder = { ...errors } as T;\n    if (errorHolder[name]) {\n      delete errorHolder[name];\n      setErrors(errorHolder);\n    }\n  };\n\n  const onChange = (\n    event: ChangeEvent<HTMLInputElement> | ChangeEvent<HTMLSelectElement>\n  ) => {\n    const { target } = event;\n    const [name, value] = getInputEntry(target);\n    setValues({ ...values, [name]: value } as T);\n    handleValueChange(name, value);\n  };\n\n  const onBlur = (event: FocusEvent<HTMLInputElement>) => {\n    const { target } = event;\n    const [name, value] = getInputEntry(target);\n\n    if (values && value && value !== values[name]) {\n      handleValueChange(name, value);\n    }\n  };\n\n  const onSubmit = (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const err = validator(values as T);\n    if (Object.keys(err).length === 0) {\n      callback();\n    } else {\n      setErrors(err);\n    }\n  };\n\n  return {\n    values,\n    errors,\n    onChange,\n    onBlur,\n    onSubmit,\n  };\n};\n\nexport type Form = ReturnType<typeof useForm>;\n\nexport default useForm;\n"],"mappings":";AAAA,SAASA,QAAQ,QAA4C,OAAO;AAEpE,MAAMC,OAAO,GAAG,CACdC,QAAkB,EAClBC,SAAyB,EACzBC,gBAAmB,EACnBC,iBAAoB,KACjB;EAAA;EACH,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAAIK,iBAAiB,CAAC;EAC1D,MAAM,CAACG,MAAM,EAAEC,SAAS,CAAC,GAAGT,QAAQ,CAAII,gBAAgB,CAAC;EAEzD,MAAMM,aAAa,GAAGC,OAA4C,IAAgC,CAChGA,OAAO,CAACC,IAAI,EACZD,OAAO,YAAYE,gBAAgB,IAAIF,OAAO,CAACG,IAAI,KAAK,UAAU,GAC9DH,OAAO,CAACI,OAAO,GACfJ,OAAO,CAACK,KAAK,CACjB;EAEF,MAAMC,iBAAiB,GAAG,CAACL,IAAY,EAAEI,KAAuB,KAAK;IACnE,MAAME,WAAW,GAAG;MAAE,GAAGV;IAAO,CAAM;IACtC,IAAIU,WAAW,CAACN,IAAI,CAAC,EAAE;MACrB,OAAOM,WAAW,CAACN,IAAI,CAAC;MACxBH,SAAS,CAACS,WAAW,CAAC;IACxB;EACF,CAAC;EAED,MAAMC,QAAQ,GACZC,KAAqE,IAClE;IACH,MAAM;MAAEC;IAAO,CAAC,GAAGD,KAAK;IACxB,MAAM,CAACR,IAAI,EAAEI,KAAK,CAAC,GAAGN,aAAa,CAACW,MAAM,CAAC;IAC3Cd,SAAS,CAAC;MAAE,GAAGD,MAAM;MAAE,CAACM,IAAI,GAAGI;IAAM,CAAC,CAAM;IAC5CC,iBAAiB,CAACL,IAAI,EAAEI,KAAK,CAAC;EAChC,CAAC;EAED,MAAMM,MAAM,GAAIF,KAAmC,IAAK;IACtD,MAAM;MAAEC;IAAO,CAAC,GAAGD,KAAK;IACxB,MAAM,CAACR,IAAI,EAAEI,KAAK,CAAC,GAAGN,aAAa,CAACW,MAAM,CAAC;IAE3C,IAAIf,MAAM,IAAIU,KAAK,IAAIA,KAAK,KAAKV,MAAM,CAACM,IAAI,CAAC,EAAE;MAC7CK,iBAAiB,CAACL,IAAI,EAAEI,KAAK,CAAC;IAChC;EACF,CAAC;EAED,MAAMO,QAAQ,GAAIH,KAAiC,IAAK;IACtDA,KAAK,CAACI,cAAc,EAAE;IACtB,MAAMC,GAAG,GAAGtB,SAAS,CAACG,MAAM,CAAM;IAClC,IAAIoB,MAAM,CAACC,IAAI,CAACF,GAAG,CAAC,CAACG,MAAM,KAAK,CAAC,EAAE;MACjC1B,QAAQ,EAAE;IACZ,CAAC,MAAM;MACLO,SAAS,CAACgB,GAAG,CAAC;IAChB;EACF,CAAC;EAED,OAAO;IACLnB,MAAM;IACNE,MAAM;IACNW,QAAQ;IACRG,MAAM;IACNC;EACF,CAAC;AACH,CAAC;AAAC,GA3DItB,OAAO;AA+Db,eAAeA,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}